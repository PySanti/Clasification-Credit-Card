import pandas as pd
from sklearn.ensemble import RandomForestRegressor, RandomForestClassifier


def features_selection(X_data, Y_data, classification):
    """
        Funcion creada para automatizar el proceso de seleccion
        de caracteristicas usando random forest

        Retorna un dataframe con las caracteristicas y si importancia
    """

    alg = RandomForestRegressor(n_estimators=150) if not classification else  RandomForestClassifier(n_estimators=150)
    alg.fit(X_data, Y_data)
    importances_df = pd.DataFrame({
        'Feature': X_data.columns  , 
        'Importance': alg.feature_importances_  })  
    importances_df = importances_df.sort_values(by='Importance', ascending=False)
    return importances_df


